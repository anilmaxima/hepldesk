{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport LoginScreen from \"./screens/LoginScreen\";\nimport SubmitTicket from \"./screens/SubmitTicket\";\nimport MyTickets from \"./screens/MyTickets\";\nimport AdminDashboard from \"./screens/AdminDashboard\";\nimport TicketDetails from \"./screens/TicketDetails\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Stack = createNativeStackNavigator();\nvar Tab = createBottomTabNavigator();\nfunction UserTabs(_ref) {\n  var setRole = _ref.setRole;\n  return _jsxs(Tab.Navigator, {\n    children: [_jsx(Tab.Screen, {\n      name: \"Submit\",\n      children: function children(props) {\n        return _jsx(SubmitTicket, _objectSpread(_objectSpread({}, props), {}, {\n          setRole: setRole\n        }));\n      }\n    }), _jsx(Tab.Screen, {\n      name: \"My Tickets\",\n      children: function children(props) {\n        return _jsx(MyTickets, _objectSpread(_objectSpread({}, props), {}, {\n          setRole: setRole\n        }));\n      }\n    })]\n  });\n}\nfunction AdminTabs(_ref2) {\n  var setRole = _ref2.setRole;\n  return _jsx(Tab.Navigator, {\n    children: _jsx(Tab.Screen, {\n      name: \"Dashboard\",\n      children: function children(props) {\n        return _jsx(AdminDashboard, _objectSpread(_objectSpread({}, props), {}, {\n          setRole: setRole\n        }));\n      }\n    })\n  });\n}\nexport default function App() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    role = _useState2[0],\n    setRole = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  useEffect(function () {\n    var fetchRole = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        try {\n          var savedRole = yield AsyncStorage.getItem('role');\n          if (savedRole) setRole(savedRole);\n        } catch (err) {\n          console.error(\"Failed to load role from AsyncStorage:\", err);\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function fetchRole() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    fetchRole();\n  }, []);\n  if (loading) return null;\n  return _jsx(NavigationContainer, {\n    children: _jsxs(Stack.Navigator, {\n      children: [!role ? _jsx(Stack.Screen, {\n        name: \"Login\",\n        children: function children(props) {\n          return _jsx(LoginScreen, _objectSpread(_objectSpread({}, props), {}, {\n            setRole: setRole\n          }));\n        }\n      }) : role === 'user' ? _jsx(Stack.Screen, {\n        name: \"User\",\n        options: {\n          headerShown: false\n        },\n        children: function children(props) {\n          return _jsx(UserTabs, _objectSpread(_objectSpread({}, props), {}, {\n            setRole: setRole\n          }));\n        }\n      }) : _jsx(Stack.Screen, {\n        name: \"Admin\",\n        options: {\n          headerShown: false\n        },\n        children: function children(props) {\n          return _jsx(AdminTabs, _objectSpread(_objectSpread({}, props), {}, {\n            setRole: setRole\n          }));\n        }\n      }), _jsx(Stack.Screen, {\n        name: \"TicketDetails\",\n        component: TicketDetails,\n        options: {\n          title: 'Ticket Details'\n        }\n      })]\n    })\n  });\n}","map":{"version":3,"names":["React","useState","useEffect","NavigationContainer","createNativeStackNavigator","createBottomTabNavigator","AsyncStorage","LoginScreen","SubmitTicket","MyTickets","AdminDashboard","TicketDetails","jsx","_jsx","jsxs","_jsxs","Stack","Tab","UserTabs","_ref","setRole","Navigator","children","Screen","name","props","_objectSpread","AdminTabs","_ref2","App","_useState","_useState2","_slicedToArray","role","_useState3","_useState4","loading","setLoading","fetchRole","_ref3","_asyncToGenerator","savedRole","getItem","err","console","error","apply","arguments","options","headerShown","component","title"],"sources":["C:/Users/anilb/OneDrive/Desktop/zealthy-helpdesk/zealthy-helpdesk/frontend/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nimport LoginScreen from './screens/LoginScreen';\r\nimport SubmitTicket from './screens/SubmitTicket';\r\nimport MyTickets from './screens/MyTickets';\r\nimport AdminDashboard from './screens/AdminDashboard';\r\nimport TicketDetails from './screens/TicketDetails';\r\n\r\nconst Stack = createNativeStackNavigator(); \r\nconst Tab = createBottomTabNavigator();\r\n\r\nfunction UserTabs({ setRole }) {\r\n  return (\r\n    <Tab.Navigator>\r\n      <Tab.Screen name=\"Submit\">\r\n        {(props) => <SubmitTicket {...props} setRole={setRole} />}\r\n      </Tab.Screen>\r\n      <Tab.Screen name=\"My Tickets\">\r\n        {(props) => <MyTickets {...props} setRole={setRole} />}\r\n      </Tab.Screen>\r\n    </Tab.Navigator>\r\n  );\r\n}\r\n\r\nfunction AdminTabs({ setRole }) {\r\n  return (\r\n    <Tab.Navigator>\r\n      <Tab.Screen name=\"Dashboard\">\r\n        {(props) => <AdminDashboard {...props} setRole={setRole} />}\r\n      </Tab.Screen>\r\n    </Tab.Navigator>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  const [role, setRole] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchRole = async () => {\r\n      try {\r\n        const savedRole = await AsyncStorage.getItem('role');\r\n        if (savedRole) setRole(savedRole);\r\n      } catch (err) {\r\n        console.error(\"Failed to load role from AsyncStorage:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchRole();\r\n  }, []);\r\n\r\n  if (loading) return null; // Optional: you can render a splash screen here\r\n\r\n  return (\r\n    <NavigationContainer>\r\n      <Stack.Navigator>\r\n        {!role ? (\r\n          <Stack.Screen name=\"Login\">\r\n            {(props) => <LoginScreen {...props} setRole={setRole} />}\r\n          </Stack.Screen>\r\n        ) : role === 'user' ? (\r\n          <Stack.Screen name=\"User\" options={{ headerShown: false }}>\r\n            {(props) => <UserTabs {...props} setRole={setRole} />}\r\n          </Stack.Screen>\r\n        ) : (\r\n          <Stack.Screen name=\"Admin\" options={{ headerShown: false }}>\r\n            {(props) => <AdminTabs {...props} setRole={setRole} />}\r\n          </Stack.Screen>\r\n        )}\r\n        <Stack.Screen\r\n          name=\"TicketDetails\"\r\n          component={TicketDetails}\r\n          options={{ title: 'Ticket Details' }}\r\n        />\r\n      </Stack.Navigator>\r\n    </NavigationContainer>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}